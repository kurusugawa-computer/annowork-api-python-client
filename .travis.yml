dist: xenial
language: python
python:
  - "3.8"
  - "3.9"
  - "3.10-dev"

install:
  - pip install poetry
  - travis_retry poetry install

before_script:
  - export TZ=Asia/Tokyo
  - sudo ln -sf /usr/share/zoneinfo/Asia/Tokyo /etc/localtime
  - echo "Asia/Tokyo" > sudo tee /etc/timezone  > /dev/null
script:
   - make lint
   - poetry run pytest tests/test_local_*.py
branches:
  only:
  - main
cache: pip
